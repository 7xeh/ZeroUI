/**
 * @name ZeroUI V2 — 2.1c
 * @author 7xeh
 * @description A sleek, Discord theme built for aesthetic and usability.
 * @version 2.2a
 * @authorId 785035260852830219
 */

/* Other Imports */
@import url('https://7xeh.github.io/ZeroUI/Assets/SettingsIcons/SettingsIcons.css');
@import url("https://raw.githubusercontent.com/KrstlSkll69/vc-snippets/main/SyncedWithGameRecolor.css");
@import url("https://raw.githubusercontent.com/acheronx0577/Better-Compact-Command-Menu-With-Smooth-Transition/refs/heads/main/Better%20Compact%20Command%20Menu%20With%20Smooth%20Transition.css");

/* Apple Emoji Replace */
@import url("https://7xeh.github.io/ZeroUI/Assets/EmojiReplace/src/Apple/spritesheets.css");
@import url("https://7xeh.github.io/ZeroUI/Assets/EmojiReplace/src/Apple/people.css");
@import url("https://7xeh.github.io/ZeroUI/Assets/EmojiReplace/src/Apple/nature.css");
@import url("https://7xeh.github.io/ZeroUI/Assets/EmojiReplace/src/Apple/food.css");
@import url("https://7xeh.github.io/ZeroUI/Assets/EmojiReplace/src/Apple/activity.css");
@import url("https://7xeh.github.io/ZeroUI/Assets/EmojiReplace/src/Apple/travel.css");
@import url("https://7xeh.github.io/ZeroUI/Assets/EmojiReplace/src/Apple/objects.css");
@import url("https://7xeh.github.io/ZeroUI/Assets/EmojiReplace/src/Apple/symbols.css");
@import url("https://7xeh.github.io/ZeroUI/Assets/EmojiReplace/src/Apple/flags.css");



.sprite__04eed {
  mask: url(...);
	-webkit-mask: none !important;
	background-color: transparent !important;
	background-position: var(--custom-emoji-sprite-bg-position) !important;
	background-size: var(--custom-emoji-sprite-bg-size) !important;
}
.spriteGreyscale__04eed { filter: grayscale(1) !important; }

/* Message Actions Hover */
[class^=buttonsInner_] [aria-label]:not([aria-label="More"],[aria-label="Delete"]),
[class^=buttonsInner_] .separator_f84418{
  pointer-events: none;
  opacity: 0;
  position: relative;
  margin-left: -34px !important;
  transition: margin-left .3s ease, opacity .1s ease;
  z-index: 1;
}
[class^=buttonsInner_]:hover [aria-label]:not([aria-label="More"],[aria-label="Delete"]),
[class^=buttonsInner_]:hover .separator_f84418{
  pointer-events: all;
  opacity: 1;
  position: relative;
  margin-left: 0 !important;
}

/* Profile Popout Actions Hover — keyboard friendly */
.wrapper_da5890:not(:hover):not(:focus-within){
  pointer-events: none;
}
.wrapper_da5890:is(:hover, :focus-within){
  pointer-events: auto;
}
.wrapper_da5890 button:not([aria-label="More"]){
  opacity: 0;
  pointer-events: none;
  transform: translateX(10px);
  transition: all .3s ease;
}
.wrapper_da5890 button[aria-label="More"]{
  opacity: 1;
  pointer-events: all;
  transform: none;
}
.wrapper_da5890:is(:hover, :focus-within) button:not([aria-label="More"]){
  opacity: 1;
  pointer-events: all;
  transform: none;
}

/* Collapsed Search Bar */
.search__49676:not(:focus-within) .searchBar__97492{
  border: transparent;
  background: transparent;
  margin-left: -6px;
  width: 120px;
  align-items: center;
  transition: width .3s ease, background .3s ease, border .3s ease;
}
.search__49676 .iconContainer_fea832{
  width: 20px;
  height: 20px;
  position: absolute;
  margin-right: 4px !important;
  right: 0;
  cursor: pointer;
}
.search__49676 .iconContainer_fea832:hover *{ color: var(--icon-secondary); }
.search__49676:focus-within .iconContainer_fea832 *{ color: var(--icon-primary); }
.icon__97492{ cursor: auto; }
.search__49676:focus-within .searchBar__97492{
  border: 1px solid var(--border-subtle);
  background: var(--bg-base-tertiary);
  width: 244px;
  align-items: center;
  transition: width .3s ease, background .3s ease, border .3s ease;
}

/* Compact right click context menu (flattened) */
.layer_da8173 > .menu_c1e9c4{ min-width: 0; width: 171px !important; }
.layer_da8173 > .menu_c1e9c4 .scroller_c1e9c4{ margin: -4px; }
.layer_da8173 > .menu_c1e9c4 .separator_c1e9c4{ margin: 1px 8px !important; }
.layer_da8173 > .menu_c1e9c4 .wrapper_f563df{ padding: 0 !important; margin: 1px; }
.layer_da8173 > .menu_c1e9c4 .item_c1e9c4{ min-height: 0; padding: 4px 8px; }
.layer_da8173 > .menu_c1e9c4 .icon_f563df{ width: 18px; }
.layer_da8173 > .menu_c1e9c4 .button_f563df{ width: 36px; height: 36px; border-radius: 4px; }
.layer_da8173 > .menu_c1e9c4 .icon_c1e9c4{ width: 18px; height: 18px; }
.layer_da8173 > .menu_c1e9c4 .iconContainer_c1e9c4{ display: flex; justify-content: center; align-items: center; }

/* Guild Tag Animation */
[class^="chipletContainerInner_"] > span > .unselectable__10651{
  display: inline-block; white-space: nowrap; overflow: hidden; max-width: 0;
  will-change: max-width, margin;
  transition: max-width .7s cubic-bezier(.34,1.56,.64,1), margin .7s cubic-bezier(.34,1.56,.64,1);
}
[class^="chipletContainerInner_"]:hover > span > .unselectable__10651{
  max-width: 20ch; margin-right: .3ch; transition-delay: .08s;
}
[class^="chipletContainerInner_"] > span > img.badge__10651{
  margin-right: 0;
  transition: transform .8s cubic-bezier(.34,1.56,.64,1), margin .7s cubic-bezier(.34,1.56,.64,1);
}
[class^="chipletContainerInner_"]:hover > span > img.badge__10651{
  transform: rotateZ(360deg); margin-right: .6ch; transition-delay: .08s;
}

/* Stream Bar */
.activityPanel_c48ade {
    background: var(--custom-background-gradient-chat-opacity-base-light);
    border-bottom: 1px solid var(--border-subtle);
    padding-right: var(--space-8);
    position: relative;
    z-index: 2;
}

/* Title bar */
.title_c38106 {
    background: var(--custom-theme-base-color-dark);
    align-items: center;
    bottom: 0;
    display: flex;
    justify-content: center;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
}

/* ——— Spotify Player ——— */
#vc-spotify-player{
  --blur-amount: 4px;
  --normal-bg-colour: var(--bg-overlay-floating, var(--background-base-low, var(--background-secondary-alt)));
  position: relative;
  background: linear-gradient(to bottom, transparent 0%, var(--normal-bg-colour) 100%) !important;
  overflow: hidden;
  transition: all .4s ease-out;
  border: 1px solid var(--border-subtle);
  border-radius: 10px;
  height: 130px;
  margin-block-end: 12px;
  isolation: isolate;
}
#vc-spotify-player > *{ filter: drop-shadow(0 0 10px var(--normal-bg-colour)); }
#vc-spotify-player:hover{ --blur-amount: 2px; }
#vc-spotify-player::before,
#vc-spotify-player::after{
  z-index: -1; content: ""; position: absolute; inset: 0; transition: all .4s ease-out;
}
#vc-spotify-player::before{
  background: var(--vc-spotify-track-image); background-position: center top; background-size: cover; opacity: .5;
}
#vc-spotify-player:hover::before{ opacity: .7; }
#vc-spotify-player::after{ backdrop-filter: blur(var(--blur-amount)); }
#vc-spotify-progress-bar > [class^="slider_"] > [class^="bar_"] > [class^="barFill_"]{
  background-color: #fff !important; background: var(--vc-spotify-track-image); background-size: 1px 100%;
}
#vc-spotify-progress-bar > [class^="slider_"] > [class^="bar_"] > [class^="barFill_"]::before{
  content: ""; position: fixed; height: inherit; width: inherit; top: inherit; left: inherit;
  border-radius: 4px 0 0 4px; backdrop-filter: blur(10px) saturate(4) brightness(1.6);
}

/* Compact Code Blocks (flattened) */
:root{ --codeblock-height: 200px; }
.codeContainer__75297 > code{
  display: block; width: 100%; max-height: var(--codeblock-height); overflow-y: auto; scroll-behavior: smooth;
}
.codeContainer__75297 > code::-webkit-scrollbar{ height: 8px; width: 8px; }
.codeContainer__75297 > code::-webkit-scrollbar-corner{ background-color: transparent; }
.codeContainer__75297 > code::-webkit-scrollbar-thumb{
  background-clip: padding-box; background-color: var(--scrollbar-thin-thumb);
  border: 2px solid transparent; border-radius: 4px; min-height: 40px;
}
.codeContainer__75297 > code:hover::-webkit-scrollbar-track,
.codeContainer__75297 > code:hover::-webkit-scrollbar-thumb{ visibility: visible; }
.codeContainer__75297 > code::-webkit-scrollbar-track{
  background-color: var(--scrollbar-thin-track); border: 2px solid var(--scrollbar-thin-track);
  border-color: var(--scrollbar-thin-track);
}

/* Detialed Message TimeStamp */
span[class*="timestampInline_"] time::before{ content: attr(aria-label); font-size: 12px; }
span[class*="timestampInline_"]{ font-size: 0 !important; }

/* Status-based Activity Status Icon */
[class^=memberInner]:has(> div > [aria-label*="Online"]) [class^=subText] svg > path[fill="#23a55a"]{ fill: #43b581; }
[class^=memberInner]:has(> div > [aria-label*=Idle]) [class^=subText] svg > path[fill="#23a55a"]{ fill: #f0b232; }
[class^=memberInner]:has(> div > [aria-label*="Do Not Disturb"]) [class^=subText] svg > path[fill="#23a55a"]{ fill: #f23f43; }
[class^=memberInner]:has(> div > [aria-label*=Streaming]) [class^=subText] svg > path[fill="#23a55a"]{ fill: #643da7; }
[class^=memberInner] [class^=subText] svg > path[fill="#23a55a"]{ fill: #747f8d; }

/* Unread Dot — smooth, performant, accessible (scoped) */
:root{
  --list-item-transition: 180ms cubic-bezier(.2,.8,.2,1);
  --unread-size: 8px;
  --unread-hover-scale: 1.6;
  --unread-x: -4px;
  --unread-hover-x: 3px;
  --unread-color: #dfdfdf;
  --unread-img-webp: url("https://raw.githubusercontent.com/7xeh/ZeroUI/refs/heads/main/Assets/ZeroUI_LOGO.svg");
  --unread-img-png:  url("https://raw.githubusercontent.com/7xeh/ZeroUI/refs/heads/main/Assets/ZeroUI_LOGO.svg");
}
:where(#app-mount) :is([class^="unread_"], [class*=" unread_"]){
  inline-size: initial !important; block-size: initial !important; border-radius: initial !important;
  background: initial !important; transform: none !important; box-shadow: none !important; transition: none !important;
}
:where([class^="wrapper_"], [class*=" wrapper_"]) :is([class^="unread_"], [class*=" unread_"]){
  inline-size: var(--unread-size) !important; block-size: var(--unread-size) !important;
  border-radius: 999px !important; background: var(--unread-color) !important;
  transform: translateX(var(--unread-x)) !important;
 transition:
    transform var(--list-item-transition),
    box-shadow var(--list-item-transition),
    opacity var(--list-item-transition) !important;

}
:where([class^="wrapper_"], [class*=" wrapper_"]):is(:hover, :focus-within)
  :is([class^="unread_"], [class*=" unread_"]){
  transform: translateX(var(--unread-hover-x)) scale(var(--unread-hover-scale)) !important;
  box-shadow: 0 0 0 2px color-mix(in lab, var(--unread-color) 30%, transparent) !important;
}
@supports (mask: url("")){
  :where([class^="wrapper_"], [class*=" wrapper_"]):is(:hover, :focus-within)
    :is([class^="unread_"], [class*=" unread_"]){
    color: var(--unread-color);
    background: currentColor !important;
    -webkit-mask: var(--unread-img-webp) center/contain no-repeat !important;
            mask: var(--unread-img-webp) center/contain no-repeat !important;
    box-shadow: none !important;
  }
}


/* MemberCount */
.vc-membercount-member-list{
  --mc-gap: 8px;
  --mc-group-gap: 24px;
  --mc-dot: 10px;
  --mc-online: var(--green-360, #3ba55c);
  --mc-total:  var(--text-muted, #b5bac1);
  --mc-ring: 0; /* set to 1 for ring style */
  display: flex; justify-content: center; align-items: center;
  gap: var(--mc-group-gap); padding: 6px 8px 0; margin: 0;
}
.vc-membercount-member-list > div[aria-label]{ display: inline-flex; align-items: center; gap: var(--mc-gap); }
.vc-membercount-online-dot,
.vc-membercount-total-dot{
  inline-size: var(--mc-dot); block-size: var(--mc-dot); border-radius: 999px;
  margin: 0 !important; border: 0 !important; outline: 0 !important; box-shadow: none !important;
  background: color-mix(in lab, currentColor calc(100% - (var(--mc-ring)*100%)), transparent);
  box-shadow: inset 0 0 0 calc(var(--mc-ring)*2px) currentColor;
}
.vc-membercount-member-list > div[aria-label*="online" i]{ color: var(--mc-online); font-weight: 600; }
.vc-membercount-member-list > div[aria-label*="total"  i]{ color: var(--mc-total);  font-weight: 600; }
.vc-membercount-member-list > div[aria-label*="online" i] .vc-membercount-online::after{ content:" Online"; font-size: .85em; margin-inline-start: 4px; }
.vc-membercount-member-list > div[aria-label*="total"  i] .vc-membercount-total::after{  content:" Total";  font-size: .85em; margin-inline-start: 4px; }

/* Tiny UX fixes */
span[class*="timestampInline_"]{ white-space: nowrap; }
.search__49676{ overflow: visible; }
.search__49676 .searchBar__97492{ min-width: 30px; }
.codeContainer__75297 > code{ scroll-behavior: smooth; }

/* =====================================================================
   Better NSFW
   ===================================================================== */
:root {
    --spoiler-blur-hover: 8px;
}
[class*="attachmentContainer_"][class*="spoilerContent_"] {
    background-color: unset;
    &[class*="hiddenSpoiler_"] {
        > [class*="spoilerWarning_"] {
            transition: opacity 50ms ease;
        }
        [class*="imageContent_"] {
            filter: none !important;
            [class*="imageWrapper_"] > [class*="clickableWrapper_"] {
                filter: blur(var(--custom-message-attachment-spoiler-blur-radius));
                transition: filter 80ms ease-out;
            }
        }
        &:hover {
            > [class*="spoilerWarning_"] {
                opacity: 0.2;
            }
            [class*="imageWrapper_"] > [class*="clickableWrapper_"] {
                filter: blur(var(--spoiler-blur-hover));
            }
        }
    }
}